pattern_txt <- paste0("results_DT", num, "_0.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
# Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 0.5
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/ST0.25/obs_info_all_0.25_",
paste0("pattern/ST", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_0.25.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
# Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 0.75
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/ST0.5/obs_info_all_0.5_",
paste0("pattern/ST", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_0.5.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
# Vector of your script numbers
numbers <-  seq(10, 50, by = 5)  # e.g., 10, 15, 20, ..., 50
# New CSR fraction
csr_value <- 1
for (num in numbers) {
# Read script
file_path <- paste0("main_script", num, ".R")
script_lines <- readLines(file_path)
# 1️⃣ Update obs_gen_para line
# Replace "CSR0" with "CSR0.25" and "0_" with "0.25_"
script_lines <- gsub(
"pattern/ST0.75/obs_info_all_0.75_",
paste0("pattern/ST", csr_value, "/obs_info_all_", csr_value, "_"),
script_lines,
fixed = TRUE
)
# 2️⃣ Update txt_path lines
# Replace "_0.txt" with "_0.25.txt" dynamically for each DTXX
pattern_txt <- paste0("results_DT", num, "_0.75.txt")
replacement_txt <- paste0("results_DT", num, "_", csr_value, ".txt")
script_lines <- gsub(pattern_txt, replacement_txt, script_lines, fixed = TRUE)
# 3️⃣ Write back to the same file (or a new file)
writeLines(script_lines, file_path)
}
factors <- seq(0, 20, by = 0.5)
template <- readLines("main_template.R")
for (f in factors) {
script_name <- paste0("main_script", f, ".R")
new_script <- template
new_script <- gsub("XFACTOR", f, new_script)
new_script <- gsub("XX", f, new_script)
new_script <- gsub("scriptX", paste0("script", f), new_script)
writeLines(new_script, script_name)
cat("Generated:", script_name, "\n")
}
factors <- seq(0, 20, by = 0.5)
template <- readLines("main_template.R")
library("rstudioapi") # Load rstudioapi package
setwd(dirname(getActiveDocumentContext()$path)) # Set working directory to source file location
getwd() # Check updated working directory
factors <- seq(0, 20, by = 0.5)
template <- readLines("main_template.R")
for (f in factors) {
script_name <- paste0("main_script", f, ".R")
new_script <- template
new_script <- gsub("XFACTOR", f, new_script)
new_script <- gsub("XX", f, new_script)
new_script <- gsub("scriptX", paste0("script", f), new_script)
writeLines(new_script, script_name)
cat("Generated:", script_name, "\n")
}
factors <- seq(0, 20, by = 0.5)
template <- readLines("main_template.R")
for (f in factors) {
script_name <- paste0("main_script", f, ".R")
new_script <- template
new_script <- gsub("XFACTOR", f, new_script)
new_script <- gsub("XX", f, new_script)
new_script <- gsub("scriptX", paste0("script", f), new_script)
writeLines(new_script, script_name)
cat("Generated:", script_name, "\n")
}
rm(list = ls())                 # Clear variables
while (!is.null(dev.list())) dev.off()  # Close all plots
#rm(list = ls())                 # Clear variables
#while (!is.null(dev.list())) dev.off()  # Close all plots
library("rstudioapi") # Load rstudioapi package
setwd(dirname(getActiveDocumentContext()$path)) # Set working directory to source file location
getwd() # Check updated working directory
rm(list = ls())                 # Clear variables
while (!is.null(dev.list())) dev.off()  # Close all plots
#rm(list = ls())                 # Clear variables
#while (!is.null(dev.list())) dev.off()  # Close all plots
library("rstudioapi") # Load rstudioapi package
setwd(dirname(getActiveDocumentContext()$path)) # Set working directory to source file location
getwd() # Check updated working directory
source("DT_Algorithm.R")
the_ratio <- c(0)
for(qq in the_ratio){
results_DT <- data.frame(
Run = integer(),
Length = numeric(),
Cost = numeric(),
NumDisambigs = integer()
)
for (i in 1) {
obs_gen_para <- read.csv(paste0("pattern/CSR", qq, "/obs_info_all_", qq, "_", i, ".csv"))
result <- DT_fixed_Alg(obs_gen_para, 0.5)
results_DT[i, ] <- list(
Run = i,
Length = result$Length_total,
Cost = result$Cost_total,
NumDisambigs = length(result$Disambiguate_state),
Path = result$Optimal_path
)
}
results <- results_DT
}
View(results)
View(results_DT)
View(result)
View(results_DT)
results_out <- data.frame(
Index = paste0('"', 1:nrow(results), '"'),
results[, c("Length", "Cost", "NumDisambigs", "Path")]
)
View(result)
source("DT_Algorithm.R")
the_ratio <- c(0)
for(qq in the_ratio){
results_DT <- data.frame(
Run = integer(),
Length = numeric(),
Cost = numeric(),
NumDisambigs = integer()
)
for (i in 1) {
obs_gen_para <- read.csv(paste0("pattern/CSR", qq, "/obs_info_all_", qq, "_", i, ".csv"))
result <- DT_fixed_Alg(obs_gen_para, 0.5)
results_DT[i, ] <- list(
Run = i,
Length = result$Length_total,
Cost = result$Cost_total,
NumDisambigs = length(result$Disambiguate_state),
Path = result$Optimal_path
)
}
results <- results_DT
}
View(result)
result[["Optimal_path"]]
View(results)
View(result)
for(qq in the_ratio){
results_DT <- data.frame(
Run = integer(),
Length = numeric(),
Cost = numeric(),
NumDisambigs = integer(),
Path = integer()
)
for (i in 1) {
obs_gen_para <- read.csv(paste0("pattern/CSR", qq, "/obs_info_all_", qq, "_", i, ".csv"))
result <- DT_fixed_Alg(obs_gen_para, 0.5)
results_DT[i, ] <- list(
Run = i,
Length = result$Length_total,
Cost = result$Cost_total,
NumDisambigs = length(result$Disambiguate_state),
Path = result$Optimal_path
)
}
results <- results_DT
}
View(results)
source("DT_Algorithm.R")
the_ratio <- c(0)
for(qq in the_ratio){
results_DT <- data.frame(
Run = integer(),
Length = numeric(),
Cost = numeric(),
NumDisambigs = integer(),
Path = integer()
)
for (i in 1) {
obs_gen_para <- read.csv(paste0("pattern/CSR", qq, "/obs_info_all_", qq, "_", i, ".csv"))
result <- DT_fixed_Alg(obs_gen_para, 0.5)
results_DT[i, ] <- list(
Run = i,
Length = result$Length_total,
Cost = result$Cost_total,
NumDisambigs = length(result$Disambiguate_state),
Path = list(result$Optimal_path)
)
}
results <- results_DT
}
View(results)
results["Path"]
View(result)
result[["Disambiguate_state"]]
result[["Optimal_path"]]
results["Path"]
results_out <- data.frame(
Index = paste0('"', 1:nrow(results), '"'),
results[, c("Length", "Cost", "NumDisambigs", "Path")]
)
header <- '"length" "cost" "number_of_disambiguations" "path"'
write.table(
results_out,
file = txt_path,
append = TRUE,
row.names = FALSE,
col.names = FALSE,
quote = FALSE,
sep = " "
)
output_dir <- file.path(getwd(), "outputs/script0.5")
dir.create(output_dir, recursive = TRUE, showWarnings = FALSE)
cat("Created directory:", output_dir, "\n")
txt_path <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".txt"))
writeLines(header, txt_path)
write.table(
results_out,
file = txt_path,
append = TRUE,
row.names = FALSE,
col.names = FALSE,
quote = FALSE,
sep = " "
)
results_out <- data.frame(
Index = paste0('"', 1:nrow(results), '"'),
results[, c("Length", "Cost", "NumDisambigs")]
)
header <- '"length" "cost" "number_of_disambiguations"'
txt_path <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".txt"))
writeLines(header, txt_path)
cat("Working directory:", getwd(), "\n")
output_dir <- file.path(getwd(), "outputs/script0.5")
dir.create(output_dir, recursive = TRUE, showWarnings = FALSE)
cat("Created directory:", output_dir, "\n")
rm(list = ls())                 # Clear variables
while (!is.null(dev.list())) dev.off()  # Close all plots
#rm(list = ls())                 # Clear variables
#while (!is.null(dev.list())) dev.off()  # Close all plots
library("rstudioapi") # Load rstudioapi package
setwd(dirname(getActiveDocumentContext()$path)) # Set working directory to source file location
getwd() # Check updated working directory
source("DT_Algorithm.R")
the_ratio <- c(0)
for(qq in the_ratio){
results_DT <- data.frame(
Run = integer(),
Length = numeric(),
Cost = numeric(),
NumDisambigs = integer(),
Path = integer()
)
for (i in 1) {
obs_gen_para <- read.csv(paste0("pattern/CSR", qq, "/obs_info_all_", qq, "_", i, ".csv"))
result <- DT_fixed_Alg(obs_gen_para, 0.5)
results_DT[i, ] <- list(
Run = i,
Length = result$Length_total,
Cost = result$Cost_total,
NumDisambigs = length(result$Disambiguate_state),
Path = list(result$Optimal_path)
)
}
results <- results_DT
}
results_out <- data.frame(
Index = paste0('"', 1:nrow(results), '"'),
results[, c("Length", "Cost", "NumDisambigs")]
)
header <- '"length" "cost" "number_of_disambiguations"'
txt_path <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".txt"))
writeLines(header, txt_path)
output_dir <- file.path(getwd(), "outputs/script0.5")
txt_path <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".txt"))
writeLines(header, txt_path)
write.table(
results_out,
file = txt_path,
append = TRUE,
row.names = FALSE,
col.names = FALSE,
quote = FALSE,
sep = " "
)
# Build the file path
file_name <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".rds"))
# Save the results
saveRDS(results[, "Path"], file = file_name)
# Specify the path to your .rds file
file_name <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".rds"))
# Load the RDS file
results_loaded <- readRDS(file_name)
View(results_out)
View(results_loaded)
# Check
str(results_loaded)
results_loaded
source("DT_Algorithm.R")
the_ratio <- c(0)
for(qq in the_ratio){
results_DT <- data.frame(
Run = integer(),
Length = numeric(),
Cost = numeric(),
NumDisambigs = integer(),
Path = integer()
)
for (i in 2) {
obs_gen_para <- read.csv(paste0("pattern/CSR", qq, "/obs_info_all_", qq, "_", i, ".csv"))
result <- DT_fixed_Alg(obs_gen_para, 0.5)
results_DT[i, ] <- list(
Run = i,
Length = result$Length_total,
Cost = result$Cost_total,
NumDisambigs = length(result$Disambiguate_state),
Path = list(result$Optimal_path)
)
}
results <- results_DT
}
results_out <- data.frame(
Index = paste0('"', 1:nrow(results), '"'),
results[, c("Length", "Cost", "NumDisambigs")]
)
header <- '"length" "cost" "number_of_disambiguations"'
txt_path <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".txt"))
writeLines(header, txt_path)
write.table(
results_out,
file = txt_path,
append = TRUE,
row.names = FALSE,
col.names = FALSE,
quote = FALSE,
sep = " "
)
# Build the file path
file_name <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".rds"))
# Save the results
saveRDS(results[, "Path"], file = file_name)
# Specify the path to your .rds file
file_name <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".rds"))
# Load the RDS file
results_loaded <- readRDS(file_name)
View(results_loaded)
View(results)
rm(list = ls())                 # Clear variables
while (!is.null(dev.list())) dev.off()  # Close all plots
#rm(list = ls())                 # Clear variables
#while (!is.null(dev.list())) dev.off()  # Close all plots
library("rstudioapi") # Load rstudioapi package
setwd(dirname(getActiveDocumentContext()$path)) # Set working directory to source file location
getwd() # Check updated working directory
source("DT_Algorithm.R")
the_ratio <- c(0)
for(qq in the_ratio){
results_DT <- data.frame(
Run = integer(),
Length = numeric(),
Cost = numeric(),
NumDisambigs = integer(),
Path = integer()
)
for (i in 1:2) {
obs_gen_para <- read.csv(paste0("pattern/CSR", qq, "/obs_info_all_", qq, "_", i, ".csv"))
result <- DT_fixed_Alg(obs_gen_para, 0.5)
results_DT[i, ] <- list(
Run = i,
Length = result$Length_total,
Cost = result$Cost_total,
NumDisambigs = length(result$Disambiguate_state),
Path = list(result$Optimal_path)
)
}
results <- results_DT
}
View(results)
results_out <- data.frame(
Index = paste0('"', 1:nrow(results), '"'),
results[, c("Length", "Cost", "NumDisambigs")]
)
header <- '"length" "cost" "number_of_disambiguations"'
txt_path <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".txt"))
writeLines(header, txt_path)
output_dir <- file.path(getwd(), "outputs/script0.5")
results_out <- data.frame(
Index = paste0('"', 1:nrow(results), '"'),
results[, c("Length", "Cost", "NumDisambigs")]
)
header <- '"length" "cost" "number_of_disambiguations"'
txt_path <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".txt"))
writeLines(header, txt_path)
write.table(
results_out,
file = txt_path,
append = TRUE,
row.names = FALSE,
col.names = FALSE,
quote = FALSE,
sep = " "
)
# Build the file path
file_name <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".rds"))
# Save the results
saveRDS(results[, "Path"], file = file_name)
# Specify the path to your .rds file
file_name <- file.path(output_dir, paste0("results_DT0.5_CSR_", qq, ".rds"))
# Load the RDS file
results_loaded <- readRDS(file_name)
View(results_loaded)
results_loaded[1]
results_loaded[1]
results_loaded[2]
n <- min(length(results_loaded[1]), length(results_loaded[2]))
n
View(results_loaded)
results_loaded[[1]]
n <- min(length(results_loaded[[1]]), length(results_loaded[[2]]))
results_loaded[[1]][1]
how_many <- 0
n <- min(length(results_loaded[[1]]), length(results_loaded[[2]]))
for(i in 1:n-1){
if(results_loaded[[1]][i] == results_loaded[[2]][i] && results_loaded[[1]][i+1] == results_loaded[[2]][i+1]){
how_many += 1
for(i in 1:n-1){
if(results_loaded[[1]][i] == results_loaded[[2]][i] && results_loaded[[1]][i+1] == results_loaded[[2]][i+1]){
how_many = how_many +  1
}
}
for(i in 1:n-1){
if( (results_loaded[[1]][i] == results_loaded[[2]][i]) && (results_loaded[[1]][i+1] == results_loaded[[2]][i+1])){
how_many = how_many +  1
}
}
for(i in 1:(n-1)){
if( (results_loaded[[1]][i] == results_loaded[[2]][i]) && (results_loaded[[1]][i+1] == results_loaded[[2]][i+1])){
how_many = how_many +  1
}
}
cat("Working directory:", getwd(), "\n")
library("rstudioapi") # Load rstudioapi package
setwd(dirname(getActiveDocumentContext()$path)) # Set working directory to source file location
getwd() # Check updated working directory
factors <- seq(0, 20, by = 0.5)
template <- readLines("main_template.R")
for (f in factors) {
script_name <- paste0("main_script", f, ".R")
new_script <- template
new_script <- gsub("XFACTOR", f, new_script)
new_script <- gsub("XX", f, new_script)
new_script <- gsub("scriptX", paste0("script", f), new_script)
writeLines(new_script, script_name)
cat("Generated:", script_name, "\n")
}
library("rstudioapi") # Load rstudioapi package
setwd(dirname(getActiveDocumentContext()$path)) # Set working directory to source file location
getwd() # Check updated working directory
factors <- seq(0, 20, by = 0.5)
factors <- c(factors, 100)
factors
template <- readLines("main_template.R")
for (f in factors) {
script_name <- paste0("main_script", f, ".R")
new_script <- template
new_script <- gsub("XFACTOR", f, new_script)
new_script <- gsub("XX", f, new_script)
new_script <- gsub("scriptX", paste0("script", f), new_script)
writeLines(new_script, script_name)
cat("Generated:", script_name, "\n")
}
